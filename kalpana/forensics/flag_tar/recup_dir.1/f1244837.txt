PROCEDURE UPDATE_DISCARDED_FLAG() IS
DECLARE FUNCTION my_func;
DECLARE CURSOR c IS
 SELECT MIX_LEN FROM SYS_TABLES WHERE ID = :table_id FOR UPDATE;
BEGIN
OPEN c;
WHILE 1 = 1 LOOP
  FETCH c INTO my_func();
  IF c % NOTFOUND THEN
    EXIT;
  END IF;
END LOOP;
UPDATE SYS_TABLES SET MIX_LEN = :flags2 WHERE ID = :table_id;
CLOSE c;
END;
